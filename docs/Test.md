# 테스트 코드 작성 방법
## 단위 테스트, 통합 테스트, 인수 테스트

### **단위 테스트 (Unit Test)**

- 특정한 책임을 수행하면서, 고립될 수 있는 최소 단위를 테스트 → 일반적으로는 메소드 단위
- 모듈 내에서 다른 모듈을 의존하여 메소드를 호출하는 경우 `mocking` 처리
- 해당 모듈의 순수 비즈니스 로직이 잘 동작하는지 테스트하기 위함

### **통합 테스트 (Integration Test)**

- 여러 모듈들이 의도대로 협력하는지 확인하는 테스트
- 통합테스트 시에는 의존성이 있는 외부 모듈을 `mocking`하지 않고 실제로 의존성을 주입하여 테스트
- 다른 모듈들과의 협력 과정에서도 비즈니스 로직이 제대로 동작하는지 테스트하기 위함

### **인수 테스트 (Acceptance Test)**

- 사용자 입장에서 요구사항을 만족하였는지를 검증하는 것을 목적으로 하는 테스트
- 인수테스트는 개발자보다는 시나리오에 따른 비즈니스 쪽에 초점을 두고 프로젝트에 참여하는 사람들(ex. 기획자, 클라이언트 대표, 개발자 등)이 토의해서 시나리오를 만들고, 개발자는 이에 의거해서 코드를 작성

## TDD (Test-Driven Development)
**테스트 중심 개발**
* 코드를 작성하기 전에 테스트 케이스를 먼저 작성하고, 이 테스트 케이스를 통과하는 코드를 구현하는 접근 방식

### 절차
1. 실패하는 테스트 작성: 기능에 대한 테스트 케이스를 먼저 작성; 이 테스트는 코드가 아직 작성되지 않았기 때문에 실패한다
2. 테스트를 통과하는 최소한의 코드 작성: 테스트를 통과하기 위해 필요한 만큼만 코드 작성
3. 리팩토링

### 장단점
**장점**
- 디자인의 개선과 명확한 요구 사항 이해
- 리팩토링의 용이성
- 버그 감소 및 안정적인 코드 베이스 유지

**단점**
- 초기 개발 속도 저하
- 테스트를 작성하기 어려운 시나리오가 있을 수 있음
- 테스트 케이스 작성에 대한 추가적인 노력 필요

## ATDD (Acceptance Test-Driven Development)
- 사용자 스토리와 그 스토리를 수용하기 위한 기준을 바탕으로 테스트를 먼저 작성하고, 이를 만족하는 코드를 개발하는 방법
- 개발자, 테스터, 비즈니스 관계자가 함께 협업하여 수행

### 절차
1. 수용 조건 정의: 비즈니스 요구 사항과 사용자 스토리를 바탕으로 수용 조건을 정의
2. 수용 테스트 작성: 수용 조건을 만족하는 수용 테스트를 작성
3. 코드 구현: 수용 테스트를 통과할 수 있도록 코드를 구현
4. 리팩토링

### 장단점
**장점**
- 비즈니스 요구 사항에 대한 명확한 이해
- 개발자, 테스터, 비즈니스 관계자 간의 소통 증진
- 사용자의 기대를 충족시키는 제품
**단점**
- 협업을 위한 시간과 노력이 많이 필요수용 기준을 명확하게 정의하기 어려울 수 있음

## BDD (Behavior-Driven Development)
- TDD의 확장으로 ****소프트웨어의 행동에 초점을 맞춘 개발 방법
- **'`Given-When-Then`**' 형식을 사용해서 구현할 수 있다

### 절차
1. 행동 스펙 작성: 사용자의 행동과 예상되는 결과를 기술한 시나리오를 작성
2. 행동 지향 테스트 작성: 시나리오를 기반으로 행동을 검증하는 테스트를 작성
3. 코드 구현: 테스트를 만족시키는 코드를 구현
4. 리팩토링: 코드를 개선하고 정제

### 장단점
**장점**
- 비즈니스 요구 사항에 대한 명확한 이해와 커뮤니케이션
- 사용자 중심의 시나리오로 인한 제품 품질 향상
- 비개발자도 이해할 수 있는 테스트 케이스

**단점**
- BDD 도구를 사용하는 경우 러닝 커브 (ex. Cucumber)
- 잘못된 시나리오 작성으로 인한 오해 발생 가능성

### Example
```java
import static org.junit.Assert.*;
import org.junit.Test;

public class ShoppingCartTest {
    
    @Test
    public void testAddItemToShoppingCart() {
        // Given: 빈 쇼핑카트
        ShoppingCart cart = new ShoppingCart();
        
        // When: 아이템을 카트에 추가
        cart.addItem(new Item("apple", 1));
        
        // Then: 카트에 아이템이 1개 있어야 함
        assertEquals(1, cart.getItemsCount());
    }
}
```
